/**
 * printTitle v1.0.0
 *
 * Auther: Mohamed Yousef <engineer.mohamed.yousef@gmail.com>
 * Copyrights: printTitle (C) 2020
 * License: MIT
 */

static void printChar(char ch){printf("%c", ch);}
static void newLine(){printf("\n");}

static char *words;
static char row_num = 6;
static char col_num = 10;
static char litters[26][6][10] = {
    { // A
        {0,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // B
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,0,0}
    },
    { // C
        {0,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,1,1,1,1,1,0,0}
    },
    { // D
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,0,0}
    },
    { // E
        {1,1,1,1,1,1,1,1,1,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,1,1,1,1,1,1,1,0}
    },
    { // F
        {1,1,1,1,1,1,1,1,1,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0}
    },
    { // G
        {0,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,1,1,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,1,1,1,1,1,0,0}
    },
    { // H
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // I
        {1,1,1,1,1,1,1,1,1,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {1,1,1,1,1,1,1,1,1,0}
    },
    { // J
        {0,0,0,0,0,1,1,1,1,0},
        {0,0,0,0,0,0,0,1,1,0},
        {0,0,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,1,1,1,1,1,0,0}
    },
    { // K
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,1,1,0,0},
        {1,1,1,1,1,1,1,0,0,0},
        {1,1,1,1,1,1,1,0,0,0},
        {1,1,0,0,0,0,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // L
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,1,1,1,1,1,1,1,0}
    },
    { // M
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,0,0,0,1,1,1,0},
        {1,1,0,1,0,1,0,1,1,0},
        {1,1,0,0,1,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // N
        {1,1,1,1,0,0,0,1,1,0},
        {1,1,0,1,1,0,0,1,1,0},
        {1,1,0,0,1,1,0,1,1,0},
        {1,1,0,0,0,1,1,1,1,0},
        {1,1,0,0,0,0,1,1,1,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // O
        {0,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,1,1,1,1,1,0,0}
    },
    { // P
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,0,0,0},
        {1,1,0,0,0,0,0,0,0,0}
    },
    { // Q
        {0,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,1,0,1,1,0},
        {1,1,0,0,0,0,0,1,0,0},
        {0,1,1,1,1,1,1,0,1,0}
    },
    { // R
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,0,0},
        {1,1,0,0,0,1,1,0,0,0},
        {1,1,0,0,0,0,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // S
        {0,1,1,1,1,1,1,1,1,0},
        {1,1,0,0,0,0,0,0,0,0},
        {0,1,1,1,1,1,1,1,0,0},
        {0,0,0,0,0,0,0,1,1,0},
        {0,0,0,0,0,0,0,1,1,0},
        {1,1,1,1,1,1,1,1,0,0}
    },
    { // T
        {1,1,1,1,1,1,1,1,1,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0}
    },
    { // U
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,1,1,1,1,1,0,0}
    },
    { // V
        {1,1,0,0,0,0,0,1,1,0},
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,0,0,0,1,1,0,0},
        {0,0,1,1,0,1,1,0,0,0},
        {0,0,0,1,1,1,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0}
    },
    { // W
        {1,0,0,0,1,0,0,0,1,0},
        {1,0,0,1,1,1,0,0,1,0},
        {1,0,0,1,0,1,0,0,1,0},
        {1,0,0,1,0,1,0,0,1,0},
        {1,0,1,0,0,0,1,0,1,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // X
        {1,1,0,0,0,0,0,1,1,0},
        {0,1,1,0,0,0,1,1,0,0},
        {0,0,0,1,1,1,0,0,0,0},
        {0,0,0,1,1,1,0,0,0,0},
        {0,1,1,0,0,0,1,1,0,0},
        {1,1,0,0,0,0,0,1,1,0}
    },
    { // Y
        {1,0,0,0,0,0,0,0,1,0},
        {0,1,0,0,0,0,0,1,0,0},
        {0,0,1,0,0,0,1,0,0,0},
        {0,0,0,1,1,1,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0},
        {0,0,0,0,1,0,0,0,0,0}
    },
    { // Z
        {1,1,1,1,1,1,1,1,1,0},
        {0,0,0,0,0,0,0,1,1,0},
        {0,0,0,0,0,1,1,0,0,0},
        {0,0,0,1,1,0,0,0,0,0},
        {0,1,1,0,0,0,0,0,0,0},
        {1,1,1,1,1,1,1,1,1,0}
    },
};

static void drawLitter(char litter, int length, int count){
    int i, j, k;
    
    for (i = 0;i < row_num;i++) {
        k = 0;
        for (j = (count * col_num);j < length;j++) {
            *(words + (i * length) + j) = litters[litter][i][k];
            k = k + 1;
        }
    }
}

/**
 * Draw litters on the screen.
 *
 * @param string text
 * @param char   block
 * @param char   decoration
 *
 * @return void
 */
void printTitle(char *text, char block, char decoration){
    int i, j, cols;
    char litter;

    // check that the text is not empty
    if (!strlen(text)) {
        return;
    }
     
    // set words array size
    cols = strlen(text) * col_num;
    words = (char *) malloc(row_num * cols * sizeof(char));

    // add the litters to words array!
    for (i = 0;i < strlen(text);i++) {
        if ((text[i] - 65) >= 0 && (text[i] - 65) < 26) {
            litter = text[i] - 65;
        }
        else if ((text[i] - 97) >= 0 && (text[i] - 97) < 26) {
            litter = text[i] - 97;
        }
        else {
            return;
        }

        drawLitter(litter, cols, i);
    }

    // print words array
    for (i = 0;i < row_num;i++) {
        for (j = 0;j < cols;j++) {
            if (*(words + (i * cols) + j))
                printChar(block);
            else
                printChar(' ');
        }
        newLine();
    }

    // add underline
    if (decoration == 'u') {
        for (j = 0;j < cols-1;j++) {
            printChar(block);
        }
        newLine();
    }
}
